@page "/CmptTemplate1"
@using Recruitment_Angels.Models
@using Recruitment_Angels.Pages.Components
@code {
    [Parameter]
    public HashSet<WorkExperienceTable> SelectedWorkExperience { get; set; }
    [Parameter]
    public HashSet<QualificationsTable> SelectedQualifications { get; set; }
    [Parameter]
    public HashSet<ApplicantSkillsTable> SelectedApplicantSkills { get; set; }
    [Parameter]
    public HashSet<referenceTable> SelectedReferences { get; set; }
    [Parameter]
    public HashSet<Table> Personalinfo { get; set; }
}
<div style="height:100%;width:100%">
    <div style="display: flex;width:100%;height:100%">
        @*===================
        LEFT BAR
        ===================*@
        <div style="background-color:#322c2c;height:100%;width:40%;">
            <div style="display: flex; align-items: center; justify-content: center;padding-top: calc(2vh + 5%);">
                <div style="width: 70%; border: clamp(2px, 1vw, 14px) solid #271e1e; border-radius: 50%; overflow: hidden;">
                    <img src="../Images/user.png" alt="Your Image" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
            </div>
            @*===================
            CONTACT ME
            ===================*@
            @if (Personalinfo.Count > 0)
            {
                <div style="display: flex; align-items: center; justify-content: center; padding-top: calc(2vh + 5%);">
                    <div style="width: 75%; font-size: calc(1.5vh + 5%); overflow: hidden; background-color:#03989e; height: calc(1.5vh + 5%); color: white; text-align: center; font-weight:bold; font-family: 'Arial', sans-serif; font-variant: small-caps; ">
                        CONTACT ME
                    </div>
                </div>
                <div style="display: flex; align-items: center; justify-content: center; padding-top: calc(0.5vh + 2%);">
                    <div style="width: 75%; font-size: calc(1.2vh + 4%); overflow: hidden; height: calc(1.5vh + 4%); color: white; text-align: left; font-weight: bold;margin: 0 auto;">
                        @if (Personalinfo.Count > 0)
                        {
                            var firstRows = Personalinfo.FirstOrDefault();
                            @firstRows.PhoneNumber
                        }
                    </div>
                </div>
                <div style="display: flex; align-items: center; justify-content: center; padding-top: calc(0.5vh + 2%);">
                    <div style="width: 75%; font-size: calc(1.2vh + 4%); overflow: hidden; height: calc(1.5vh + 4%); color: white; text-align: left; font-weight: bold;margin: 0 auto;">
                        @if (Personalinfo.Count > 0)
                        {
                            var firstRows = Personalinfo.FirstOrDefault();
                            @firstRows.Email
                        }
                    </div>
                </div>
            }
            @*===================
            EDUCATION
            ===================*@
            @if (SelectedQualifications.Count > 0)
            {
                <div style="display: flex; align-items: center; justify-content: center; padding-top: calc(2vh + 5%);">
                    <div style="width: 75%; font-size: calc(1.5vh + 5%); overflow: hidden; background-color:#03989e; height: calc(1.5vh + 5%); color: white; text-align: center; font-weight:bold; font-family: 'Arial', sans-serif; font-variant: small-caps; ">
                        EDUCATION
                    </div>
                </div>
                @foreach (var qual in SelectedQualifications)
                {
                    <div style="display: flex; align-items: center; justify-content: center; padding-top: calc(0.5vh + 2%);">
                        <div style="width: 75%; font-size: calc(1.2vh + 4%); overflow: hidden; height: calc(1.5vh + 4%); color: white; text-align: left; font-weight: bold;margin: 0 auto;">
                            @qual.Qualification  <br />
                            @qual.Institution <br />
                            @qual.AcquiredDate <br />
                        </div>
                    </div>
                }
            }
            @*===================
            SKILLS
            ===================*@
            @if (SelectedApplicantSkills.Count > 0)
            {
                <div style="display: flex; align-items: center; justify-content: center; padding-top: calc(2vh + 5%); padding-bottom: calc(0.5vh + 2%);">
                    <div style="width: 75%; font-size: calc(1.5vh + 5%); overflow: hidden; background-color:#03989e; height: calc(1.5vh + 5%); color: white; text-align: center; font-weight:bold; font-family: 'Arial', sans-serif; font-variant: small-caps; ">
                        SKILLS
                    </div>
                </div>
                @foreach (var qual in SelectedApplicantSkills)
                {
                    <div style="display: flex; align-items: center; justify-content: center;">
                        <div style="width: 75%; font-size: calc(1.2vh + 4%); overflow: hidden; height: calc(1.5vh + 4%); color: white; text-align: left; font-weight: bold;margin: 0 auto;">
                            <div style="display: flex;width:100%">
                                <div style="width:60%">
                                    @qual.SkillName
                                </div>
                                <div style="width:40%">
                                    <div style="margin-top:calc(0.7vh + 1%);margin-bottom: 0; ">
                                        <Progress Class="mb-3" Height="5">
                                            <ProgressBar Color="ProgressColor.Info" Width="@qual.proficiency" />
                                        </Progress>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                }
            }
        </div>
        @*===================
        RIGHT SIDE
        ===================*@
        <div style="width:60%;padding-left:calc(1vh + 2%);padding-right:calc(2vh + 2%)">
            @*===================
            NAME AND SURNAME
            ===================*@
            @if (Personalinfo.Count > 0)
            {
                <div style="padding-top: calc(2vh + 5%);">
                    <div style="font-size: calc(4vh + 4%); line-height: calc(4vh + 4%);overflow: hidden; height: calc(1.5vh + 4%); text-align: left; font-weight: bold;">
                        @if (Personalinfo.Count > 0)
                        {
                            var firstRows = Personalinfo.FirstOrDefault();
                            @firstRows.Name
                        }
                    </div>
                </div>
                <div>
                    <div style="font-size: calc(4vh + 4%); line-height: calc(4vh + 4%); overflow: hidden; height: calc(1.5vh + 4%); text-align: left;">
                        @if (Personalinfo.Count > 0)
                        {
                            var firstRows = Personalinfo.FirstOrDefault();
                            @firstRows.Surname
                        }
                    </div>
                </div>
                <div>
                    <div style="font-size: calc(2vh + 4%);line-height: calc(3vh + 4%); overflow: hidden; height: calc(1.5vh + 4%); text-align: left;">
                        @if (Personalinfo.Count > 0)
                        {
                            var firstRows = Personalinfo.FirstOrDefault();
                            @firstRows.JobTitle
                        }
                    </div>
                </div>
            }
            @*===================
            WORK EXPERIENCE
            ===================*@
            @if (SelectedWorkExperience.Count > 0)
            {
                <div style="display: flex; align-items: center; justify-content: left; padding-top: calc(2vh + 5%);">
                    <div style="width: 100%; padding-left: calc(0.5vh + 2%);font-size: calc(1.5vh + 5%); overflow: hidden; background-color:#322c2c; height: calc(1.5vh + 5%); color: white; text-align: left; font-weight:bold; font-family: 'Arial', sans-serif; font-variant: small-caps; ">
                        WORK EXPERIENCE
                    </div>
                </div>
                @foreach (var qual in SelectedWorkExperience)
                {
                    <div style="display: flex; align-items: center; justify-content: center; padding-top: calc(0.5vh + 2%);">
                        <div style="width: 100%; font-size: calc(1.2vh + 4%); overflow: hidden; height: calc(1.5vh + 4%); text-align: left; font-weight: bold;margin: 0 auto;">
                            <div style="display: flex;width:100%;justify-content:space-between">
                                <div>
                                    @qual.PositionTitle
                                </div>
                                <div>
                                    @((qual.StartDate).ToString("yyyy-MM-dd")) - @((qual.EndDate).ToString("yyyy-MM-dd"))
                                </div>
                            </div>
                            <div style="font-weight: 800 !important;">
                                @qual.CompanyName | @qual.CompanyLocation
                            </div>
                            @qual.Summary <br />
                        </div>
                    </div>
                }
            }
            @*===================
                 References
            ===================*@
            @if (SelectedReferences.Count > 0)
            {
                <div style="display: flex; align-items: center; justify-content: left; padding-top: calc(2vh + 5%);">
                    <div style="width: 100%; padding-left: calc(0.5vh + 2%);font-size: calc(1.5vh + 5%); overflow: hidden; background-color:#322c2c; height: calc(1.5vh + 5%); color: white; text-align: left; font-weight:bold; font-family: 'Arial', sans-serif; font-variant: small-caps; ">
                        REFERENCES
                    </div>
                </div>
                <div style="display: flex; flex-wrap: wrap;">
                    @foreach (var qual in SelectedReferences)
                    {
                        <div style="width: 50%; padding: 0 1%; box-sizing: border-box;">
                            <div style="display: flex; align-items: center; justify-content: center; padding-top: calc(0.5vh + 2%);">
                                <div style="width: 100%; font-size: calc(1.2vh + 4%); overflow: hidden; height: calc(1.5vh + 4%); text-align: left; font-weight: bold;margin: 0 auto;">
                                    <div style="font-weight: 800 !important;">
                                        @qual.Name   @qual.Surname
                                    </div>
                                    <div>
                                        @qual.Company / @qual.Position
                                    </div>
                                    <div>
                                        Email:  @qual.Email
                                    </div>
                                    <div>
                                        phone:  @qual.Phone
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            }
        </div>
    </div>
</div>
